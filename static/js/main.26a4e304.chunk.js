(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{12:function(e,t,a){e.exports={Loader:"App_Loader__12yUz"}},15:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__3CvRl",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__2bkPr"}},16:function(e,t,a){e.exports={Overlay:"Modal_Overlay__2AxMb",Modal:"Modal_Modal__2WBTT"}},27:function(e,t,a){e.exports={container:"Container_container__3RIox"}},28:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__DncjJ"}},29:function(e,t,a){e.exports={button:"LoadMoreButton_button__xGv_S"}},35:function(e,t,a){},5:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__DjWH3",SearchForm:"Searchbar_SearchForm__1ac2l",SearchFormButton:"Searchbar_SearchFormButton__21S85",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__8f9cn",SearchFormInput:"Searchbar_SearchFormInput__VhsfU",toaster:"Searchbar_toaster__2nTsL"}},77:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),o=a.n(c),s=(a(34),a(35),a(17)),i=a(4),l=a(6),u=a(26),m=a.n(u),b=a(14),h=a.n(b);h.a.defaults.baseURL="https://pixabay.com/api";var j={fetchImages:function(e){var t=e.searchQuery,a=void 0===t?"":t,n=e.currentPage,r=void 0===n?1:n,c=e.pageSize,o=void 0===c?12:c;return h.a.get("/?key=".concat("23036678-74019fd4c7410c35bfdd6c3b0","&q=").concat(a,"\n    &page=").concat(r,"&image_type=photo&orientation=horizontal&per_page=").concat(o)).then((function(e){return e.data.hits}))}},g=a(27),f=a.n(g),d=a(1),O=function(e){var t=e.children;return Object(d.jsx)("div",{className:f.a.container,children:t})},_=a(15),p=a.n(_),S=function(e){var t=e.webformatURL,a=e.largeImageURL,n=e.tags,r=e.onClick;return Object(d.jsx)("li",{className:p.a.ImageGalleryItem,children:Object(d.jsx)("img",{src:t,alt:n,className:p.a.ImageGalleryItemImage,onClick:function(){return r({largeImageURL:a,tags:n})}})})},v=a(28),x=a.n(v),I=function(e){var t=e.hits,a=e.onClick;return Object(d.jsx)("ul",{className:x.a.ImageGallery,children:t.map((function(e){var t=e.id,n=e.tags,r=e.webformatURL,c=e.largeImageURL;return Object(d.jsx)(S,{tags:n,webformatURL:r,largeImageURL:c,onClick:a},t)}))})},y=a(5),L=a.n(y);function k(e){var t=e.onSubmit,a=Object(n.useState)(""),r=Object(i.a)(a,2),c=r[0],o=r[1];return Object(d.jsx)("header",{className:L.a.Searchbar,children:Object(d.jsxs)("form",{className:L.a.SearchForm,onSubmit:function(e){if(e.preventDefault(),""===c.trim())return Object(l.b)("Enter a value to search.",{className:L.a.toaster});t(c),o("")},children:[Object(d.jsx)("button",{type:"submit",className:L.a.SearchFormButton,children:Object(d.jsx)("span",{className:L.a.SearchFormButtonLabel,children:"Search"})}),Object(d.jsx)("input",{className:L.a.SearchFormInput,value:c,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){o(e.currentTarget.value)}})]})})}var w=a(29),C=a.n(w),F=function(e){var t=e.onClick;return Object(d.jsx)("button",{type:"button",className:C.a.button,onClick:t,children:"Load more"})},N=a(16),G=a.n(N);function B(e){var t=e.onClose,a=e.children;Object(n.useEffect)((function(){return window.addEventListener("keydown",r),function(){window.removeEventListener("keydown",r)}}));var r=function(e){"Escape"===e.code&&t()};return Object(d.jsx)("div",{className:G.a.Overlay,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(d.jsx)("div",{className:G.a.Modal,children:a})})}var R=a(12),U=a.n(R);a(75),a(76);function T(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(1),o=Object(i.a)(c,2),u=o[0],b=o[1],h=Object(n.useState)(""),g=Object(i.a)(h,2),f=g[0],_=g[1],p=Object(n.useState)(!1),S=Object(i.a)(p,2),v=S[0],x=S[1],y=Object(n.useState)(!1),L=Object(i.a)(y,2),w=L[0],C=L[1],N=Object(n.useState)(""),G=Object(i.a)(N,2),R=G[0],T=G[1],E=Object(n.useState)(""),M=Object(i.a)(E,2),z=M[0],D=M[1];Object(n.useEffect)((function(){f&&P()}),[f]);var J=function(){C(!w)},P=function(){x(!0);var e={searchQuery:f,currentPage:u};j.fetchImages(e).then((function(e){0===e.length&&l.b.info("Try again!",{className:U.a.toaster}),r([].concat(Object(s.a)(a),Object(s.a)(e))),b(u+1)})).then((function(){u>1&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).catch((function(){l.b.info("Try again!",{className:U.a.toaster})})).finally((function(){return x(!1)}))},A=a.length>0&&!v;return Object(d.jsxs)(O,{children:[Object(d.jsx)(k,{onSubmit:function(e){_(e),b(1),r([])}}),Object(d.jsx)(I,{hits:a,onClick:function(e){var t=e.largeImageURL,a=e.tags;T(t),D(a),J()}}),A&&Object(d.jsx)(F,{onClick:P}),v&&Object(d.jsx)(m.a,{type:"BallTriangle",color:"#00BFFF",height:50,width:50,className:U.a.Loader}),w&&Object(d.jsx)(B,{onClose:J,children:Object(d.jsx)("img",{src:R,alt:z})}),Object(d.jsx)(l.a,{autoClose:3e3})]})}o.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(T,{})}),document.getElementById("root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.26a4e304.chunk.js.map