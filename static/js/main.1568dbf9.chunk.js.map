{"version":3,"sources":["App.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Container/Container.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/LoadMoreButton.module.css","components/Searchbar/Searchbar.module.css","services/ImagesApi.jsx","components/Container/Container.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Searchbar/Searchbar.jsx","components/Button/LoadMoreButton.jsx","components/Modal/Modal.jsx","App.jsx","index.js"],"names":["module","exports","axios","defaults","baseURL","api","fetchImages","searchQuery","currentPage","pageSize","get","then","data","hits","Container","children","className","s","container","ImageGalleryItem","webformatURL","largeImageURL","tags","onClick","src","alt","ImageGalleryItemImage","ImageGallery","map","id","Searchbar","onSubmit","useState","query","setQuery","SearchForm","e","preventDefault","trim","toast","toaster","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","value","autoComplete","autoFocus","placeholder","onChange","currentTarget","LoadMoreButton","button","Modal","onClose","useEffect","window","addEventListener","handleKeyDown","removeEventListener","code","Overlay","target","App","setHits","setCurrentPage","setSearchQuery","isLoading","setIsLoading","showModal","setShowModal","setLargeImageURL","setTags","toggleModal","options","imagesApi","images","length","info","scrollTo","top","document","documentElement","scrollHeight","behavior","catch","finally","shouldRenderLoadMoreButton","color","height","width","Loader","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.1568dbf9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"App_Loader__12yUz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3CvRl\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2bkPr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__3RIox\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"LoadMoreButton_button__xGv_S\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__DjWH3\",\"SearchForm\":\"Searchbar_SearchForm__1ac2l\",\"SearchFormButton\":\"Searchbar_SearchFormButton__21S85\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__8f9cn\",\"SearchFormInput\":\"Searchbar_SearchFormInput__VhsfU\",\"toaster\":\"Searchbar_toaster__2nTsL\"};","import axios from \"axios\";\n\naxios.defaults.baseURL = \"https://pixabay.com/api\";\nconst API_KEY = \"23036678-74019fd4c7410c35bfdd6c3b0\";\n\nconst fetchImages = ({ searchQuery = \"\", currentPage = 1, pageSize = 12 }) => {\n  return axios\n    .get(\n      `/?key=${API_KEY}&q=${searchQuery}\n    &page=${currentPage}&image_type=photo&orientation=horizontal&per_page=${pageSize}`\n    )\n    .then(({ data }) => data.hits);\n};\n\nconst api = {\n  fetchImages,\n};\n\nexport default api;\n","import PropTypes from \"prop-types\";\nimport s from \"./Container.module.css\";\n\nconst Container = ({ children }) => (\n  <div className={s.container}>{children}</div>\n);\n\nContainer.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default Container;\n","import PropTypes from \"prop-types\";\nimport s from \"./ImageGalleryItem.module.css\";\n\nconst ImageGalleryItem = ({ webformatURL, largeImageURL, tags, onClick }) => (\n  <li className={s.ImageGalleryItem}>\n    <img\n      src={webformatURL}\n      alt={tags}\n      className={s.ImageGalleryItemImage}\n      onClick={() => onClick({ largeImageURL, tags })}\n    />\n  </li>\n);\n\nImageGalleryItem.propTypes = {\n  tags: PropTypes.string.isRequired,\n  webformatURL: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport PropTypes from \"prop-types\";\n\nimport s from \"./ImageGallery.module.css\";\n\nconst ImageGallery = ({ hits, onClick }) => {\n  return (\n    <ul className={s.ImageGallery}>\n      {hits.map(({ id, tags, webformatURL, largeImageURL }) => (\n        <ImageGalleryItem\n          key={id}\n          tags={tags}\n          webformatURL={webformatURL}\n          largeImageURL={largeImageURL}\n          onClick={onClick}\n        />\n      ))}\n    </ul>\n  );\n};\n\nImageGallery.propTypes = {\n  hits: PropTypes.array.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import { useState } from \"react\";\nimport { toast } from \"react-toastify\";\nimport s from \"./Searchbar.module.css\";\n\nexport default function Searchbar({ onSubmit }) {\n  const [query, setQuery] = useState(\"\");\n\n  const handleChange = (e) => {\n    setQuery(e.currentTarget.value);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (query.trim() === \"\") {\n      return toast(\"Enter a value to search.\", {\n        className: s.toaster,\n      });\n    }\n    onSubmit(query);\n    setQuery(\"\");\n  };\n\n  return (\n    <header className={s.Searchbar}>\n      <form className={s.SearchForm} onSubmit={handleSubmit}>\n        <button type=\"submit\" className={s.SearchFormButton}>\n          <span className={s.SearchFormButtonLabel}>Search</span>\n        </button>\n\n        <input\n          className={s.SearchFormInput}\n          value={query}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          onChange={handleChange}\n        />\n      </form>\n    </header>\n  );\n}\n","import PropTypes from \"prop-types\";\nimport s from \"./LoadMoreButton.module.css\";\n\nconst LoadMoreButton = ({ onClick }) => (\n  <button type=\"button\" className={s.button} onClick={onClick}>\n    Load more\n  </button>\n);\n\nLoadMoreButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default LoadMoreButton;\n","import { useEffect } from \"react\";\nimport s from \"./Modal.module.css\";\n\nexport default function Modal({ onClose, children }) {\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => {\n      window.removeEventListener(\"keydown\", handleKeyDown);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  // Close by ESС\n  const handleKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      onClose();\n    }\n  };\n\n  // Close by Backdrop Click\n  const handleBackdropClick = (e) => {\n    if (e.currentTarget === e.target) {\n      onClose();\n    }\n  };\n\n  return (\n    <div className={s.Overlay} onClick={handleBackdropClick}>\n      <div className={s.Modal}>{children}</div>\n    </div>\n  );\n}\n","import { useEffect, useState } from \"react\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport Loader from \"react-loader-spinner\";\nimport imagesApi from \"./services/ImagesApi\";\nimport Container from \"./components/Container/Container\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\nimport Searchbar from \"./components/Searchbar/Searchbar\";\nimport LoadMoreButton from \"./components/Button/LoadMoreButton\";\nimport Modal from \"./components/Modal/Modal\";\n\nimport s from \"./App.module.css\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nexport default function App() {\n  const [hits, setHits] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const [showModal, setShowModal] = useState(false);\n  const [largeImageURL, setLargeImageURL] = useState(\"\");\n  const [tags, setTags] = useState(\"\");\n\n  useEffect(() => {\n    if (!searchQuery) {\n      return;\n    }\n\n    fetchImages();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchQuery]);\n\n  const onChangeQuery = (query) => {\n    setSearchQuery(query);\n    setCurrentPage(1);\n    setHits([]);\n  };\n\n  const onModal = ({ largeImageURL, tags }) => {\n    setLargeImageURL(largeImageURL);\n    setTags(tags);\n    toggleModal();\n  };\n\n  const toggleModal = () => {\n    setShowModal(!showModal);\n  };\n\n  const fetchImages = () => {\n    setIsLoading(true);\n\n    const options = { searchQuery, currentPage };\n\n    imagesApi\n      .fetchImages(options)\n      .then((images) => {\n        if (images.length === 0) {\n          toast.info(\"Try again!\", {\n            className: s.toaster,\n          });\n        }\n        setHits([...hits, ...images]);\n        setCurrentPage(currentPage + 1);\n      })\n      .then(() => {\n        if (currentPage > 1) {\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: \"smooth\",\n          });\n        }\n      })\n      .catch(() => {\n        toast.info(\"Try again!\", {\n          className: s.toaster,\n        });\n      })\n      .finally(() => setIsLoading(false));\n  };\n\n  const shouldRenderLoadMoreButton = hits.length > 0 && !isLoading;\n\n  return (\n    <Container>\n      <Searchbar onSubmit={onChangeQuery} />\n      <ImageGallery hits={hits} onClick={onModal} />\n\n      {shouldRenderLoadMoreButton && <LoadMoreButton onClick={fetchImages} />}\n\n      {isLoading && (\n        <Loader\n          type=\"BallTriangle\"\n          color=\"#00BFFF\"\n          height={50}\n          width={50}\n          className={s.Loader}\n        />\n      )}\n\n      {showModal && (\n        <Modal onClose={toggleModal}>\n          <img src={largeImageURL} alt={tags} />\n        </Modal>\n      )}\n      <ToastContainer autoClose={3000} />\n    </Container>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"modern-normalize/modern-normalize.css\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}